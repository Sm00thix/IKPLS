name: Test
description: Test

inputs:
  PYTHON_VERSION:
    description: test
    required: true

runs:
    using: "composite"
    steps:
    - name: Test
      run: |
        python -m pip install --upgrade pip
        python -m pip install flake8 pytest
        python -m pip install build --user
        pip install -U "jax[cpu]" -f https://storage.googleapis.com/jax-releases/jax_cuda_releases.html
        pip install pytest pytest-cov
        python3 -m pytest tests --doctest-modules --junitxml=junit/test-results.xml --cov=ikpls/ --cov-report=xml --cov-report=html
      shell: bash 